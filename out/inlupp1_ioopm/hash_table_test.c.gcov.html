<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - coverage.info - inlupp1_ioopm/hash_table_test.c</title>
  <link rel="stylesheet" type="text/css" href="../gcov.css">
</head>

<body>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">LCOV - code coverage report</td></tr>
    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../index.html">top level</a> - <a href="index.html">inlupp1_ioopm</a> - hash_table_test.c<span style="font-size: 80%;"> (source / <a href="hash_table_test.c.func-sort-c.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">coverage.info</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">286</td>
            <td class="headerCovTableEntry">293</td>
            <td class="headerCovTableEntryHi">97.6 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2021-10-04 21:28:47</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">27</td>
            <td class="headerCovTableEntry">28</td>
            <td class="headerCovTableEntryHi">96.4 %</td>
          </tr>
          <tr><td><img src="../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">          Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span>            : #include &lt;stdio.h&gt;</a>
<span class="lineNum">       2 </span>            : #include &lt;stdlib.h&gt;
<span class="lineNum">       3 </span>            : #include &quot;hash_table.h&quot;
<span class="lineNum">       4 </span>            : #include &lt;stdbool.h&gt;
<span class="lineNum">       5 </span>            : #include &lt;CUnit/CUnit.h&gt;
<span class="lineNum">       6 </span>            : #include &lt;CUnit/Basic.h&gt;
<span class="lineNum">       7 </span>            : #include &lt;string.h&gt;
<span class="lineNum">       8 </span>            : #define No_Buckets 17
<a name="9"><span class="lineNum">       9 </span>            : </a>
<span class="lineNum">      10 </span>            : 
<span class="lineNum">      11 </span><span class="lineCov">          1 : int init_suite(void)</span>
<span class="lineNum">      12 </span>            : {
<span class="lineNum">      13 </span><span class="lineCov">          1 :   return 0;</span>
<a name="14"><span class="lineNum">      14 </span>            : }</a>
<span class="lineNum">      15 </span>            : 
<span class="lineNum">      16 </span><span class="lineCov">          1 : int clean_suite(void)</span>
<span class="lineNum">      17 </span>            : {
<span class="lineNum">      18 </span><span class="lineCov">          1 :   return 0;</span>
<span class="lineNum">      19 </span>            : }
<span class="lineNum">      20 </span>            : 
<span class="lineNum">      21 </span>            : union elem
<span class="lineNum">      22 </span>            : {
<span class="lineNum">      23 </span>            :   /// TODO: update the names of the fields to something better? 
<span class="lineNum">      24 </span>            :   int i;
<span class="lineNum">      25 </span>            :   unsigned int u;
<span class="lineNum">      26 </span>            :   bool b;
<span class="lineNum">      27 </span>            :   float f;
<span class="lineNum">      28 </span>            :   void *p;
<span class="lineNum">      29 </span>            :   //char c;
<span class="lineNum">      30 </span>            :   char *s;
<a name="31"><span class="lineNum">      31 </span>            : };</a>
<span class="lineNum">      32 </span>            : 
<span class="lineNum">      33 </span><span class="lineCov">        596 : static int get_int_hash_key(elem_t key){</span>
<span class="lineNum">      34 </span><span class="lineCov">        596 :   return key.i;</span>
<a name="35"><span class="lineNum">      35 </span>            : }</a>
<span class="lineNum">      36 </span>            : 
<span class="lineNum">      37 </span><span class="lineCov">        352 : static int int_key_cmp(elem_t a, elem_t b){</span>
<span class="lineNum">      38 </span><span class="lineCov">        352 :   return a.i - b.i;</span>
<a name="39"><span class="lineNum">      39 </span>            : }</a>
<span class="lineNum">      40 </span>            : 
<span class="lineNum">      41 </span><span class="lineNoCov">          0 : bool int_value_cmp (elem_t a, elem_t b){</span>
<span class="lineNum">      42 </span><span class="lineNoCov">          0 :   return a.i == b.i;</span>
<a name="43"><span class="lineNum">      43 </span>            : }</a>
<span class="lineNum">      44 </span>            : 
<span class="lineNum">      45 </span><span class="lineCov">         18 : static bool string_value_cmp(elem_t a, elem_t b){</span>
<span class="lineNum">      46 </span><span class="lineCov">         18 :   return !strcmp(a.s,b.s);</span>
<a name="47"><span class="lineNum">      47 </span>            : }</a>
<span class="lineNum">      48 </span>            : 
<span class="lineNum">      49 </span><span class="lineCov">         34 : static int str_key_cmp(elem_t a, elem_t b){</span>
<span class="lineNum">      50 </span><span class="lineCov">         34 :   return strcmp(a.s,b.s);</span>
<span class="lineNum">      51 </span>            : }
<a name="52"><span class="lineNum">      52 </span>            : </a>
<span class="lineNum">      53 </span>            : // Will not work so consistent for shorter string keys
<span class="lineNum">      54 </span><span class="lineCov">          5 : int string_sum_hash(elem_t string)</span>
<span class="lineNum">      55 </span>            : {
<span class="lineNum">      56 </span><span class="lineCov">          5 :   char *str = string.s;</span>
<span class="lineNum">      57 </span><span class="lineCov">          5 :   int result = 0;</span>
<span class="lineNum">      58 </span>            :   do
<span class="lineNum">      59 </span>            :     {
<span class="lineNum">      60 </span><span class="lineCov">          7 :       result += *str;</span>
<span class="lineNum">      61 </span>            :     }
<span class="lineNum">      62 </span><span class="lineCov">          7 :   while (*++str != '\0');</span>
<span class="lineNum">      63 </span><span class="lineCov">          5 :   return result;</span>
<span class="lineNum">      64 </span>            : }
<span class="lineNum">      65 </span>            : 
<span class="lineNum">      66 </span>            : //
<span class="lineNum">      67 </span>            : // Helper function for test_hash_table_all and test_hash_table_any
<a name="68"><span class="lineNum">      68 </span>            : //</a>
<span class="lineNum">      69 </span>            : //Checks if *compare_string&quot; == value
<span class="lineNum">      70 </span><span class="lineCov">         11 : static bool string_equal(elem_t key, elem_t value, void *compare_string, ioopm_hash_table_t *ht){</span>
<span class="lineNum">      71 </span><span class="lineCov">         11 :   elem_t *other_value_ptr = compare_string;</span>
<span class="lineNum">      72 </span><span class="lineCov">         11 :   elem_t other_value = *other_value_ptr;</span>
<span class="lineNum">      73 </span><span class="lineCov">         11 :   return (string_value_cmp(value, other_value));</span>
<span class="lineNum">      74 </span>            : }
<span class="lineNum">      75 </span>            : 
<span class="lineNum">      76 </span>            : //
<span class="lineNum">      77 </span>            : // Helper function for test_hash_table_apply to all
<a name="78"><span class="lineNum">      78 </span>            : //</a>
<span class="lineNum">      79 </span>            : // Changes *entry = *string_to_insert
<span class="lineNum">      80 </span><span class="lineCov">          4 : static void change_value(elem_t key, elem_t *entry, void *string_to_insert)</span>
<span class="lineNum">      81 </span>            : {
<span class="lineNum">      82 </span>            :   // change the value of the entry
<span class="lineNum">      83 </span><span class="lineCov">          4 :   elem_t *string_to_insert_ptr = string_to_insert;</span>
<span class="lineNum">      84 </span><span class="lineCov">          4 :   elem_t string = *string_to_insert_ptr;</span>
<span class="lineNum">      85 </span><span class="lineCov">          4 :   *entry = string;</span>
<a name="86"><span class="lineNum">      86 </span><span class="lineCov">          4 : }</span></a>
<span class="lineNum">      87 </span>            : 
<span class="lineNum">      88 </span><span class="lineCov">          1 : void test_create_and_destroy(void)</span>
<span class="lineNum">      89 </span>            : {
<span class="lineNum">      90 </span>            :   // Int-based hash-keys
<span class="lineNum">      91 </span><span class="lineCov">          1 :   ioopm_hash_table_t* ht = ioopm_hash_table_create(get_int_hash_key, string_value_cmp, int_key_cmp);</span>
<span class="lineNum">      92 </span><span class="lineCov">          1 :   ioopm_hash_table_destroy(ht);</span>
<span class="lineNum">      93 </span>            : 
<span class="lineNum">      94 </span>            :   // String-based hash-keys
<span class="lineNum">      95 </span><span class="lineCov">          1 :   ht = ioopm_hash_table_create(get_int_hash_key, string_value_cmp, int_key_cmp);</span>
<span class="lineNum">      96 </span><span class="lineCov">          1 :   ioopm_hash_table_destroy(ht);</span>
<a name="97"><span class="lineNum">      97 </span><span class="lineCov">          1 : }</span></a>
<span class="lineNum">      98 </span>            : 
<span class="lineNum">      99 </span><span class="lineCov">          1 : void test_insert(void){</span>
<span class="lineNum">     100 </span><span class="lineCov">          1 :     ioopm_hash_table_t* ht = ioopm_hash_table_create(get_int_hash_key, string_value_cmp, int_key_cmp);</span>
<span class="lineNum">     101 </span><span class="lineCov">          1 :     char *value[No_Buckets] = {&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;,&quot;h&quot;,&quot;i&quot;,&quot;j&quot;,&quot;k&quot;,&quot;l&quot;,&quot;n&quot;,&quot;o&quot;,&quot;p&quot;,&quot;q&quot;};</span>
<span class="lineNum">     102 </span>            :     
<span class="lineNum">     103 </span><span class="lineCov">         18 :     for (int i = 0; i &lt; No_Buckets; i++)</span>
<span class="lineNum">     104 </span>            :     {
<span class="lineNum">     105 </span><span class="lineCov">         17 :         ioopm_hash_table_insert(ht,int_elem(i),str_elem(value[i]));</span>
<span class="lineNum">     106 </span>            :     }
<span class="lineNum">     107 </span><span class="lineCov">          1 :     ioopm_hash_table_destroy(ht);</span>
<a name="108"><span class="lineNum">     108 </span><span class="lineCov">          1 : }</span></a>
<span class="lineNum">     109 </span>            : 
<span class="lineNum">     110 </span><span class="lineCov">          1 : void test_insert_lookup_int(void)</span>
<span class="lineNum">     111 </span>            : { 
<span class="lineNum">     112 </span>            :     // Test for int hash
<span class="lineNum">     113 </span><span class="lineCov">          1 :     ioopm_hash_table_t* ht = ioopm_hash_table_create(get_int_hash_key, string_value_cmp, int_key_cmp);</span>
<span class="lineNum">     114 </span><span class="lineCov">          1 :     char *value[No_Buckets] = {&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;,&quot;h&quot;,&quot;i&quot;,&quot;j&quot;,&quot;k&quot;,&quot;l&quot;,&quot;n&quot;,&quot;o&quot;,&quot;p&quot;,&quot;q&quot;};</span>
<span class="lineNum">     115 </span><span class="lineCov">          1 :     bool success = false;</span>
<span class="lineNum">     116 </span><span class="lineCov">         18 :     for (int i = 0; i &lt; No_Buckets; i++)</span>
<span class="lineNum">     117 </span>            :     {
<span class="lineNum">     118 </span><span class="lineCov">         17 :         ioopm_hash_table_insert(ht,int_elem(i),str_elem(value[i]));</span>
<span class="lineNum">     119 </span>            :     }
<span class="lineNum">     120 </span><span class="lineCov">         18 :     for (int i = 0; i &lt; No_Buckets; i++)</span>
<span class="lineNum">     121 </span>            :     {
<span class="lineNum">     122 </span><span class="lineCov">         17 :         ioopm_hash_table_lookup(ht,int_elem(i),&amp;success);</span>
<span class="lineNum">     123 </span><span class="lineCov">         17 :         CU_ASSERT(success);</span>
<span class="lineNum">     124 </span>            :     }
<span class="lineNum">     125 </span>            : 
<span class="lineNum">     126 </span><span class="lineCov">          1 :     ioopm_hash_table_destroy(ht);</span>
<span class="lineNum">     127 </span><span class="lineCov">          1 : }</span>
<a name="128"><span class="lineNum">     128 </span>            : </a>
<span class="lineNum">     129 </span>            : 
<span class="lineNum">     130 </span><span class="lineCov">          1 : void test_insert_lookup_str(void){</span>
<span class="lineNum">     131 </span><span class="lineCov">          1 :     ioopm_hash_table_t *ht = ioopm_hash_table_create(get_int_hash_key, int_value_cmp, str_key_cmp);</span>
<span class="lineNum">     132 </span><span class="lineCov">          1 :     char *keys[No_Buckets] = {&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;,&quot;h&quot;,&quot;i&quot;,&quot;j&quot;,&quot;k&quot;,&quot;l&quot;,&quot;n&quot;,&quot;o&quot;,&quot;p&quot;,&quot;q&quot;};</span>
<span class="lineNum">     133 </span><span class="lineCov">          1 :     bool success = false;</span>
<span class="lineNum">     134 </span><span class="lineCov">         17 :     for (int i = 0; i&lt;16; i++)</span>
<span class="lineNum">     135 </span>            :     {
<span class="lineNum">     136 </span><span class="lineCov">         16 :       ioopm_hash_table_insert(ht,str_elem(keys[i]), int_elem(i));</span>
<span class="lineNum">     137 </span>            :     }
<span class="lineNum">     138 </span><span class="lineCov">         17 :     for (int i = 0; i &lt; 16; i++)</span>
<span class="lineNum">     139 </span>            :     {
<span class="lineNum">     140 </span><span class="lineCov">         16 :         ioopm_hash_table_lookup(ht,str_elem(keys[i]),&amp;success);</span>
<span class="lineNum">     141 </span><span class="lineCov">         16 :         CU_ASSERT(success);</span>
<span class="lineNum">     142 </span>            :     }
<span class="lineNum">     143 </span><span class="lineCov">          1 :     ioopm_hash_table_destroy(ht);</span>
<a name="144"><span class="lineNum">     144 </span><span class="lineCov">          1 : }</span></a>
<span class="lineNum">     145 </span>            : 
<span class="lineNum">     146 </span><span class="lineCov">          1 : void test_char_for_keys(void){</span>
<span class="lineNum">     147 </span><span class="lineCov">          1 :   ioopm_hash_table_t* ht = ioopm_hash_table_create(string_sum_hash, int_value_cmp, str_key_cmp);</span>
<span class="lineNum">     148 </span><span class="lineCov">          1 :   bool success = true;</span>
<span class="lineNum">     149 </span><span class="lineCov">          1 :   ioopm_hash_table_lookup(ht, str_elem(&quot;a&quot;), &amp;success);</span>
<span class="lineNum">     150 </span><span class="lineCov">          1 :   CU_ASSERT_FALSE(success);</span>
<span class="lineNum">     151 </span>            :   //Check value that does not exist in a non emmpty list
<span class="lineNum">     152 </span><span class="lineCov">          1 :     ioopm_hash_table_insert(ht,str_elem(&quot;a&quot;),int_elem(-1));</span>
<span class="lineNum">     153 </span><span class="lineCov">          1 :     ioopm_hash_table_lookup(ht,str_elem(&quot;b&quot;),&amp;success);</span>
<span class="lineNum">     154 </span><span class="lineCov">          1 :     CU_ASSERT_FALSE(success);</span>
<span class="lineNum">     155 </span><span class="lineCov">          1 :     int value = ioopm_hash_table_lookup(ht,str_elem(&quot;a&quot;), &amp;success).i;</span>
<span class="lineNum">     156 </span><span class="lineCov">          1 :     CU_ASSERT_EQUAL(value,-1);</span>
<span class="lineNum">     157 </span><span class="lineCov">          1 :     CU_ASSERT(success);</span>
<span class="lineNum">     158 </span><span class="lineCov">          1 :     ioopm_hash_table_lookup(ht,str_elem(&quot;hej&quot;), &amp;success);</span>
<span class="lineNum">     159 </span><span class="lineCov">          1 :     CU_ASSERT_FALSE(success);</span>
<span class="lineNum">     160 </span><span class="lineCov">          1 :     ioopm_hash_table_destroy(ht);</span>
<a name="161"><span class="lineNum">     161 </span><span class="lineCov">          1 : }</span></a>
<span class="lineNum">     162 </span>            : 
<span class="lineNum">     163 </span><span class="lineCov">          1 : void test_lookup(void){</span>
<span class="lineNum">     164 </span><span class="lineCov">          1 :     ioopm_hash_table_t* ht = ioopm_hash_table_create(get_int_hash_key,string_value_cmp, int_key_cmp);</span>
<span class="lineNum">     165 </span><span class="lineCov">          1 :     bool success=true;</span>
<span class="lineNum">     166 </span>            :     //Check value in an empty hash table
<span class="lineNum">     167 </span><span class="lineCov">          1 :     ioopm_hash_table_lookup(ht,int_elem(16),&amp;success);</span>
<span class="lineNum">     168 </span><span class="lineCov">          1 :     CU_ASSERT_FALSE(success);</span>
<span class="lineNum">     169 </span>            : 
<span class="lineNum">     170 </span>            :     //Check value that does not exist in a non emmpty list
<span class="lineNum">     171 </span><span class="lineCov">          1 :     ioopm_hash_table_insert(ht,int_elem(-1),str_elem(&quot;a&quot;));</span>
<span class="lineNum">     172 </span><span class="lineCov">          1 :     ioopm_hash_table_lookup(ht,int_elem(16),&amp;success);</span>
<span class="lineNum">     173 </span><span class="lineCov">          1 :     CU_ASSERT_FALSE(success);</span>
<span class="lineNum">     174 </span><span class="lineCov">          1 :     ioopm_hash_table_lookup(ht,int_elem(1), &amp;success);</span>
<span class="lineNum">     175 </span><span class="lineCov">          1 :     CU_ASSERT_FALSE(success);</span>
<span class="lineNum">     176 </span>            : 
<span class="lineNum">     177 </span>            :     //Check value in a list of size 1;
<span class="lineNum">     178 </span><span class="lineCov">          1 :     CU_ASSERT_STRING_EQUAL((ioopm_hash_table_lookup(ht,int_elem(-1), &amp;success)).s, &quot;a&quot;);</span>
<span class="lineNum">     179 </span><span class="lineCov">          1 :     CU_ASSERT(success);</span>
<span class="lineNum">     180 </span><span class="lineCov">          1 :     ioopm_hash_table_lookup(ht,int_elem(1), &amp;success);</span>
<span class="lineNum">     181 </span><span class="lineCov">          1 :     CU_ASSERT_FALSE(success);</span>
<span class="lineNum">     182 </span>            : 
<span class="lineNum">     183 </span>            :     //Check values in the middle and last in a bucket
<span class="lineNum">     184 </span><span class="lineCov">          1 :     ioopm_hash_table_insert(ht,int_elem(16),str_elem(&quot;b&quot;));</span>
<span class="lineNum">     185 </span><span class="lineCov">          1 :     ioopm_hash_table_insert(ht,int_elem(33),str_elem(NULL));</span>
<span class="lineNum">     186 </span>            : 
<span class="lineNum">     187 </span><span class="lineCov">          1 :     CU_ASSERT_STRING_EQUAL(ioopm_hash_table_lookup(ht,int_elem(16), &amp;success).s,&quot;b&quot;);</span>
<span class="lineNum">     188 </span><span class="lineCov">          1 :     CU_ASSERT(success);</span>
<span class="lineNum">     189 </span>            : 
<span class="lineNum">     190 </span><span class="lineCov">          1 :     ioopm_hash_table_lookup(ht,int_elem(50),&amp;success);</span>
<span class="lineNum">     191 </span><span class="lineCov">          1 :     CU_ASSERT_FALSE(success);</span>
<span class="lineNum">     192 </span>            : 
<span class="lineNum">     193 </span><span class="lineCov">          1 :     ioopm_hash_table_lookup(ht,int_elem(33), &amp;success);</span>
<span class="lineNum">     194 </span><span class="lineCov">          1 :     CU_ASSERT(success);</span>
<span class="lineNum">     195 </span>            :     
<span class="lineNum">     196 </span><span class="lineCov">          1 :     ioopm_hash_table_destroy(ht);</span>
<span class="lineNum">     197 </span><span class="lineCov">          1 : }</span>
<a name="198"><span class="lineNum">     198 </span>            : </a>
<span class="lineNum">     199 </span>            : 
<span class="lineNum">     200 </span><span class="lineCov">          1 : void test_remove(void){</span>
<span class="lineNum">     201 </span><span class="lineCov">          1 :     ioopm_hash_table_t* ht = ioopm_hash_table_create(get_int_hash_key, string_value_cmp, int_key_cmp);</span>
<span class="lineNum">     202 </span>            : 
<span class="lineNum">     203 </span>            :     //check removal av icke-existerande entry i tom ht
<span class="lineNum">     204 </span><span class="lineCov">          1 :     CU_ASSERT_PTR_NULL(ioopm_hash_table_remove(ht,int_elem(5)).s);</span>
<span class="lineNum">     205 </span>            : 
<span class="lineNum">     206 </span><span class="lineCov">          1 :     ioopm_hash_table_insert(ht,int_elem(1),str_elem(&quot;b&quot;));</span>
<span class="lineNum">     207 </span><span class="lineCov">          1 :     ioopm_hash_table_insert(ht,int_elem(-16),str_elem(&quot;a&quot;));</span>
<span class="lineNum">     208 </span><span class="lineCov">          1 :     ioopm_hash_table_insert(ht,int_elem(18),str_elem(&quot;c&quot;));</span>
<span class="lineNum">     209 </span>            :     
<span class="lineNum">     210 </span>            :   
<span class="lineNum">     211 </span>            :     //check removal i mitten
<span class="lineNum">     212 </span><span class="lineCov">          1 :     CU_ASSERT_STRING_EQUAL(ioopm_hash_table_remove(ht,int_elem(1)).s, &quot;b&quot;); </span>
<span class="lineNum">     213 </span>            : 
<span class="lineNum">     214 </span>            :     //check removal i början
<span class="lineNum">     215 </span><span class="lineCov">          1 :     CU_ASSERT_STRING_EQUAL(ioopm_hash_table_remove(ht,int_elem(-16)).s, &quot;a&quot;); </span>
<span class="lineNum">     216 </span>            :     
<span class="lineNum">     217 </span>            :     //check removal i slutet
<span class="lineNum">     218 </span><span class="lineCov">          1 :     CU_ASSERT_STRING_EQUAL(ioopm_hash_table_remove(ht,int_elem(18)).s, &quot;c&quot;); </span>
<span class="lineNum">     219 </span>            :     
<span class="lineNum">     220 </span>            :     //check removal av icke-existerande entry som har funnits
<span class="lineNum">     221 </span><span class="lineCov">          1 :     CU_ASSERT_PTR_NULL(ioopm_hash_table_remove(ht,int_elem(1)).s);</span>
<span class="lineNum">     222 </span>            :     
<span class="lineNum">     223 </span><span class="lineCov">          1 :     ioopm_hash_table_destroy(ht);</span>
<span class="lineNum">     224 </span><span class="lineCov">          1 : }</span>
<a name="225"><span class="lineNum">     225 </span>            : </a>
<span class="lineNum">     226 </span>            : 
<span class="lineNum">     227 </span><span class="lineCov">          1 : void test_hashtable_size(){</span>
<span class="lineNum">     228 </span><span class="lineCov">          1 :   ioopm_hash_table_t* ht = ioopm_hash_table_create(get_int_hash_key, string_value_cmp, int_key_cmp);</span>
<span class="lineNum">     229 </span>            :   //Check empty hash table
<span class="lineNum">     230 </span><span class="lineCov">          1 :   CU_ASSERT(ioopm_hash_table_size(ht)==0);</span>
<span class="lineNum">     231 </span>            : 
<span class="lineNum">     232 </span>            :   //Check hash table of one element
<span class="lineNum">     233 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht,int_elem(1),str_elem(&quot;a&quot;));</span>
<span class="lineNum">     234 </span><span class="lineCov">          1 :   CU_ASSERT(ioopm_hash_table_size(ht)==1);</span>
<span class="lineNum">     235 </span>            : 
<span class="lineNum">     236 </span>            :   //Check size after inserting multiple elements
<span class="lineNum">     237 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht,int_elem(-16),str_elem(&quot;b&quot;));</span>
<span class="lineNum">     238 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht,int_elem(18),str_elem(&quot;c&quot;));</span>
<span class="lineNum">     239 </span><span class="lineCov">          1 :   CU_ASSERT(ioopm_hash_table_size(ht)==3);</span>
<span class="lineNum">     240 </span>            : 
<span class="lineNum">     241 </span>            :   // Check size after inserting a key that already exists
<span class="lineNum">     242 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht,int_elem(1),str_elem(&quot;a&quot;));</span>
<span class="lineNum">     243 </span><span class="lineCov">          1 :   CU_ASSERT(ioopm_hash_table_size(ht)==3);</span>
<span class="lineNum">     244 </span>            : 
<span class="lineNum">     245 </span>            :   // Check size after inserting multiple keys that already exists
<span class="lineNum">     246 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht,int_elem(-16),str_elem(&quot;b&quot;));</span>
<span class="lineNum">     247 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht,int_elem(18),str_elem(&quot;c&quot;));</span>
<span class="lineNum">     248 </span><span class="lineCov">          1 :   CU_ASSERT(ioopm_hash_table_size(ht)==3);</span>
<span class="lineNum">     249 </span>            : 
<span class="lineNum">     250 </span>            :   // Check size after clearing all elements in hashtable
<span class="lineNum">     251 </span><span class="lineCov">          1 :   ioopm_hash_table_clear(ht);</span>
<span class="lineNum">     252 </span><span class="lineCov">          1 :   CU_ASSERT(ioopm_hash_table_size(ht)==0);</span>
<span class="lineNum">     253 </span>            : 
<span class="lineNum">     254 </span><span class="lineCov">          1 :  ioopm_hash_table_destroy(ht);</span>
<a name="255"><span class="lineNum">     255 </span><span class="lineCov">          1 : }</span></a>
<span class="lineNum">     256 </span>            : 
<span class="lineNum">     257 </span><span class="lineCov">          1 : void test_is_empty(){</span>
<span class="lineNum">     258 </span><span class="lineCov">          1 :   ioopm_hash_table_t *ht = ioopm_hash_table_create(get_int_hash_key, string_value_cmp, int_key_cmp);</span>
<span class="lineNum">     259 </span>            :   //Check hash empty table
<span class="lineNum">     260 </span><span class="lineCov">          1 :   CU_ASSERT(ioopm_hash_table_is_empty(ht));</span>
<span class="lineNum">     261 </span>            : 
<span class="lineNum">     262 </span>            :   //Check hash table with one element
<span class="lineNum">     263 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht,int_elem(-16),str_elem(&quot;b&quot;));</span>
<span class="lineNum">     264 </span><span class="lineCov">          1 :   CU_ASSERT_FALSE(ioopm_hash_table_is_empty(ht));</span>
<span class="lineNum">     265 </span>            :   
<span class="lineNum">     266 </span>            :   //Check hash table after clearing all elements
<span class="lineNum">     267 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht,int_elem(-13),str_elem(&quot;c&quot;));</span>
<span class="lineNum">     268 </span><span class="lineCov">          1 :   ioopm_hash_table_clear(ht);</span>
<span class="lineNum">     269 </span><span class="lineCov">          1 :   CU_ASSERT(ioopm_hash_table_is_empty(ht));</span>
<span class="lineNum">     270 </span>            : 
<span class="lineNum">     271 </span><span class="lineCov">          1 :   ioopm_hash_table_destroy(ht);</span>
<span class="lineNum">     272 </span><span class="lineCov">          1 : }</span>
<a name="273"><span class="lineNum">     273 </span>            : </a>
<span class="lineNum">     274 </span>            : 
<span class="lineNum">     275 </span><span class="lineCov">          1 : void test_clear(){</span>
<span class="lineNum">     276 </span><span class="lineCov">          1 :   ioopm_hash_table_t *ht = ioopm_hash_table_create(get_int_hash_key, string_value_cmp, int_key_cmp);</span>
<span class="lineNum">     277 </span>            :   //Check clear of empty hash table
<span class="lineNum">     278 </span><span class="lineCov">          1 :   ioopm_hash_table_clear(ht);</span>
<span class="lineNum">     279 </span><span class="lineCov">          1 :   CU_ASSERT(ioopm_hash_table_is_empty(ht));</span>
<span class="lineNum">     280 </span>            : 
<span class="lineNum">     281 </span>            :   //Chekc clear after inserting elements
<span class="lineNum">     282 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht,int_elem(1),str_elem(&quot;a&quot;));</span>
<span class="lineNum">     283 </span><span class="lineCov">          1 :   ioopm_hash_table_clear(ht);</span>
<span class="lineNum">     284 </span><span class="lineCov">          1 :   CU_ASSERT(ioopm_hash_table_is_empty(ht));</span>
<span class="lineNum">     285 </span>            :   
<span class="lineNum">     286 </span><span class="lineCov">          1 :   ioopm_hash_table_destroy(ht);</span>
<a name="287"><span class="lineNum">     287 </span><span class="lineCov">          1 : }</span></a>
<span class="lineNum">     288 </span>            : 
<span class="lineNum">     289 </span><span class="lineCov">          1 : void test_table_keys(){</span>
<span class="lineNum">     290 </span><span class="lineCov">          1 :   ioopm_hash_table_t *ht = ioopm_hash_table_create(get_int_hash_key, string_value_cmp, int_key_cmp);</span>
<span class="lineNum">     291 </span>            :   
<span class="lineNum">     292 </span>            :   // Test creating a list when no keys exists
<span class="lineNum">     293 </span><span class="lineCov">          1 :   ioopm_list_t *keys = ioopm_hash_table_keys(ht);</span>
<span class="lineNum">     294 </span><span class="lineCov">          1 :   CU_ASSERT_EQUAL(ioopm_linked_list_size(keys), 0);</span>
<span class="lineNum">     295 </span><span class="lineCov">          1 :   ioopm_linked_list_destroy(keys);</span>
<span class="lineNum">     296 </span>            :   
<span class="lineNum">     297 </span>            :   
<span class="lineNum">     298 </span>            :   // Test creating a list when keys do exist
<span class="lineNum">     299 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht,int_elem(10),str_elem(&quot;a&quot;));</span>
<span class="lineNum">     300 </span><span class="lineCov">          1 :   keys = ioopm_hash_table_keys(ht);</span>
<span class="lineNum">     301 </span><span class="lineCov">          1 :   size_t key_amount = 1;</span>
<span class="lineNum">     302 </span><span class="lineCov">          1 :   CU_ASSERT_EQUAL(ioopm_linked_list_size(keys), key_amount);</span>
<span class="lineNum">     303 </span><span class="lineCov">          1 :   CU_ASSERT_EQUAL(ioopm_linked_list_get(keys,0).s,&quot;a&quot;);</span>
<span class="lineNum">     304 </span>            : 
<span class="lineNum">     305 </span><span class="lineCov">          1 :   ioopm_linked_list_destroy(keys);</span>
<span class="lineNum">     306 </span>            :   
<span class="lineNum">     307 </span><span class="lineCov">          1 :   ioopm_hash_table_destroy(ht);</span>
<span class="lineNum">     308 </span><span class="lineCov">          1 : }</span>
<a name="309"><span class="lineNum">     309 </span>            : </a>
<span class="lineNum">     310 </span>            : 
<span class="lineNum">     311 </span><span class="lineCov">          1 : void test_table_values(){</span>
<span class="lineNum">     312 </span><span class="lineCov">          1 :   ioopm_hash_table_t *ht = ioopm_hash_table_create(get_int_hash_key, string_value_cmp, int_key_cmp);</span>
<span class="lineNum">     313 </span>            :   
<span class="lineNum">     314 </span>            :   //Test for an empty hash table
<span class="lineNum">     315 </span><span class="lineCov">          1 :   ioopm_list_t *values = ioopm_hash_table_values(ht);</span>
<span class="lineNum">     316 </span><span class="lineCov">          1 :   CU_ASSERT_EQUAL(ioopm_linked_list_size(values), 0);</span>
<span class="lineNum">     317 </span><span class="lineCov">          1 :   ioopm_linked_list_destroy(values);</span>
<span class="lineNum">     318 </span>            :     
<span class="lineNum">     319 </span>            :   // Test non-empty hash table
<span class="lineNum">     320 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht,int_elem(10),str_elem(&quot;a&quot;));</span>
<span class="lineNum">     321 </span><span class="lineCov">          1 :   values = ioopm_hash_table_values(ht);</span>
<span class="lineNum">     322 </span>            :   
<span class="lineNum">     323 </span><span class="lineCov">          1 :   CU_ASSERT_EQUAL(ioopm_linked_list_size(values), 1);</span>
<span class="lineNum">     324 </span><span class="lineCov">          1 :   CU_ASSERT_EQUAL(ioopm_linked_list_get(values,0).s,&quot;a&quot;);</span>
<span class="lineNum">     325 </span><span class="lineCov">          1 :   ioopm_linked_list_destroy(values);</span>
<span class="lineNum">     326 </span>            : 
<span class="lineNum">     327 </span><span class="lineCov">          1 :   ioopm_hash_table_destroy(ht);</span>
<span class="lineNum">     328 </span><span class="lineCov">          1 : }</span>
<a name="329"><span class="lineNum">     329 </span>            : </a>
<span class="lineNum">     330 </span>            : 
<span class="lineNum">     331 </span><span class="lineCov">          1 : void test_has_key(){</span>
<span class="lineNum">     332 </span><span class="lineCov">          1 :   ioopm_hash_table_t *ht = ioopm_hash_table_create(get_int_hash_key, string_value_cmp, int_key_cmp);</span>
<span class="lineNum">     333 </span>            :   
<span class="lineNum">     334 </span>            :   // Check before inserts 
<span class="lineNum">     335 </span><span class="lineCov">          1 :   bool test = ioopm_hash_table_has_key(ht,int_elem(10));</span>
<span class="lineNum">     336 </span><span class="lineCov">          1 :   CU_ASSERT_FALSE(test);</span>
<span class="lineNum">     337 </span>            : 
<span class="lineNum">     338 </span>            :   // Check after inserts
<span class="lineNum">     339 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht, int_elem(17), str_elem(&quot;abc&quot;));</span>
<span class="lineNum">     340 </span><span class="lineCov">          1 :   test = ioopm_hash_table_has_key(ht,int_elem(17));</span>
<span class="lineNum">     341 </span><span class="lineCov">          1 :   CU_ASSERT(test);</span>
<span class="lineNum">     342 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht, int_elem(34), str_elem(&quot;abc&quot;));</span>
<span class="lineNum">     343 </span><span class="lineCov">          1 :   test = ioopm_hash_table_has_key(ht,int_elem(34));</span>
<span class="lineNum">     344 </span><span class="lineCov">          1 :   CU_ASSERT(test);</span>
<span class="lineNum">     345 </span>            :   
<span class="lineNum">     346 </span>            :   // Check after removal
<span class="lineNum">     347 </span><span class="lineCov">          1 :   ioopm_hash_table_remove(ht, int_elem(17));</span>
<span class="lineNum">     348 </span><span class="lineCov">          1 :   test = ioopm_hash_table_has_key(ht,int_elem(17));</span>
<span class="lineNum">     349 </span><span class="lineCov">          1 :   CU_ASSERT_FALSE(test);</span>
<span class="lineNum">     350 </span>            : 
<span class="lineNum">     351 </span>            :   // Check after clear
<span class="lineNum">     352 </span><span class="lineCov">          1 :   ioopm_hash_table_clear(ht);</span>
<span class="lineNum">     353 </span><span class="lineCov">          1 :   test = ioopm_hash_table_has_key(ht,int_elem(34));</span>
<span class="lineNum">     354 </span><span class="lineCov">          1 :   CU_ASSERT_FALSE(test);</span>
<span class="lineNum">     355 </span>            : 
<span class="lineNum">     356 </span><span class="lineCov">          1 :   ioopm_hash_table_destroy(ht);</span>
<span class="lineNum">     357 </span><span class="lineCov">          1 : }</span>
<span class="lineNum">     358 </span>            : 
<a name="359"><span class="lineNum">     359 </span>            : </a>
<span class="lineNum">     360 </span>            : 
<span class="lineNum">     361 </span><span class="lineCov">          1 : void test_has_value(){</span>
<span class="lineNum">     362 </span><span class="lineCov">          1 :   ioopm_hash_table_t *ht = ioopm_hash_table_create(get_int_hash_key, string_value_cmp, int_key_cmp);</span>
<span class="lineNum">     363 </span>            :   //test empty ht
<span class="lineNum">     364 </span><span class="lineCov">          1 :   bool test = ioopm_hash_table_has_value(ht,str_elem(&quot;abc&quot;));</span>
<span class="lineNum">     365 </span><span class="lineCov">          1 :   CU_ASSERT_FALSE(test);</span>
<span class="lineNum">     366 </span>            : 
<span class="lineNum">     367 </span>            :   //test one element ht
<span class="lineNum">     368 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht, int_elem(17), str_elem(&quot;a&quot;));</span>
<span class="lineNum">     369 </span><span class="lineCov">          1 :   test = ioopm_hash_table_has_value(ht,str_elem(&quot;a&quot;));</span>
<span class="lineNum">     370 </span><span class="lineCov">          1 :   CU_ASSERT(test);</span>
<span class="lineNum">     371 </span>            : 
<span class="lineNum">     372 </span>            :   //test multipe element ht
<span class="lineNum">     373 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht, int_elem(34), str_elem(&quot;b&quot;));</span>
<span class="lineNum">     374 </span>            : 
<span class="lineNum">     375 </span><span class="lineCov">          1 :   elem_t test_string = str_elem(&quot;b&quot;);</span>
<span class="lineNum">     376 </span>            :   //elem_t target = ioopm_strdup(test_string);
<span class="lineNum">     377 </span><span class="lineCov">          1 :   test = ioopm_hash_table_has_value(ht,str_elem(&quot;b&quot;));</span>
<span class="lineNum">     378 </span><span class="lineCov">          1 :   CU_ASSERT(test);</span>
<span class="lineNum">     379 </span><span class="lineCov">          1 :   test = ioopm_hash_table_has_value(ht,test_string);</span>
<span class="lineNum">     380 </span><span class="lineCov">          1 :   CU_ASSERT(test);</span>
<span class="lineNum">     381 </span>            :   
<span class="lineNum">     382 </span>            :   //test value that does not exist in a multipe element ht
<span class="lineNum">     383 </span><span class="lineCov">          1 :   test = ioopm_hash_table_has_value(ht,str_elem(&quot;abc&quot;));</span>
<span class="lineNum">     384 </span><span class="lineCov">          1 :   CU_ASSERT_FALSE(test);</span>
<span class="lineNum">     385 </span>            : 
<span class="lineNum">     386 </span><span class="lineCov">          1 :   ioopm_hash_table_destroy(ht);</span>
<span class="lineNum">     387 </span>            : 
<a name="388"><span class="lineNum">     388 </span><span class="lineCov">          1 : }</span></a>
<span class="lineNum">     389 </span>            : 
<span class="lineNum">     390 </span><span class="lineCov">          1 : void test_hash_table_all(){</span>
<span class="lineNum">     391 </span><span class="lineCov">          1 :   ioopm_hash_table_t *ht = ioopm_hash_table_create(get_int_hash_key, string_value_cmp, int_key_cmp);</span>
<span class="lineNum">     392 </span><span class="lineCov">          1 :   elem_t test_string = str_elem(&quot;a&quot;);</span>
<span class="lineNum">     393 </span>            :   //empty table
<span class="lineNum">     394 </span><span class="lineCov">          1 :   CU_ASSERT_FALSE(ioopm_hash_table_all(ht, string_equal, &amp;test_string));</span>
<span class="lineNum">     395 </span>            :   //all values the same
<span class="lineNum">     396 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht, int_elem(17), str_elem(&quot;a&quot;));</span>
<span class="lineNum">     397 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht, int_elem(34), str_elem(&quot;a&quot;));</span>
<span class="lineNum">     398 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht, int_elem(3), str_elem(&quot;a&quot;));</span>
<span class="lineNum">     399 </span><span class="lineCov">          1 :   CU_ASSERT(ioopm_hash_table_all(ht, string_equal, &amp;test_string));</span>
<span class="lineNum">     400 </span>            :   //different values
<span class="lineNum">     401 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht, int_elem(20), str_elem(&quot;b&quot;));</span>
<span class="lineNum">     402 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht, int_elem(51), str_elem(&quot;b&quot;));</span>
<span class="lineNum">     403 </span><span class="lineCov">          1 :   CU_ASSERT_FALSE(ioopm_hash_table_all(ht, string_equal, &amp;test_string));</span>
<span class="lineNum">     404 </span>            : 
<span class="lineNum">     405 </span><span class="lineCov">          1 :   ioopm_hash_table_destroy(ht);</span>
<a name="406"><span class="lineNum">     406 </span><span class="lineCov">          1 : }</span></a>
<span class="lineNum">     407 </span>            : 
<span class="lineNum">     408 </span><span class="lineCov">          1 : void test_apply_to_all(){</span>
<span class="lineNum">     409 </span><span class="lineCov">          1 :   ioopm_hash_table_t *ht = ioopm_hash_table_create(get_int_hash_key, string_value_cmp, int_key_cmp);</span>
<span class="lineNum">     410 </span><span class="lineCov">          1 :   elem_t string = str_elem(&quot;kalas&quot;);</span>
<span class="lineNum">     411 </span>            :   //test apply to empty list
<span class="lineNum">     412 </span><span class="lineCov">          1 :   ioopm_hash_table_apply_to_all(ht,change_value,&amp;string);</span>
<span class="lineNum">     413 </span><span class="lineCov">          1 :   CU_ASSERT_FALSE(ioopm_hash_table_all(ht, string_equal, &amp;string));</span>
<span class="lineNum">     414 </span>            :   //different values
<span class="lineNum">     415 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht, int_elem(-17), str_elem(&quot;a&quot;));</span>
<span class="lineNum">     416 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht, int_elem(0),str_elem(&quot;b&quot;));</span>
<span class="lineNum">     417 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht, int_elem(17), str_elem(&quot;c&quot;));</span>
<span class="lineNum">     418 </span><span class="lineCov">          1 :   ioopm_hash_table_insert(ht, int_elem(34), str_elem(&quot;d&quot;));</span>
<span class="lineNum">     419 </span><span class="lineCov">          1 :   CU_ASSERT_FALSE(ioopm_hash_table_all(ht, string_equal, &amp;string));</span>
<span class="lineNum">     420 </span>            :   //apply same string and test
<span class="lineNum">     421 </span><span class="lineCov">          1 :   ioopm_hash_table_apply_to_all(ht,change_value,&amp;string);</span>
<span class="lineNum">     422 </span><span class="lineCov">          1 :   CU_ASSERT(ioopm_hash_table_all(ht, string_equal, &amp;string));</span>
<span class="lineNum">     423 </span>            : 
<span class="lineNum">     424 </span><span class="lineCov">          1 :   ioopm_hash_table_destroy(ht);</span>
<a name="425"><span class="lineNum">     425 </span><span class="lineCov">          1 : }</span></a>
<span class="lineNum">     426 </span>            : 
<span class="lineNum">     427 </span><span class="lineCov">          1 : void test_growing_buckets(){</span>
<span class="lineNum">     428 </span><span class="lineCov">          1 :   ioopm_hash_table_t *ht = ioopm_hash_table_create(get_int_hash_key, string_value_cmp, int_key_cmp);</span>
<span class="lineNum">     429 </span>            :   
<span class="lineNum">     430 </span>            :   
<span class="lineNum">     431 </span>            :   // Add 10 elements and check that buckets has not increased from initial size of 17
<span class="lineNum">     432 </span>            :   
<span class="lineNum">     433 </span><span class="lineCov">         11 :   for (int i = 0; i&lt;10; i++)</span>
<span class="lineNum">     434 </span>            :   {
<span class="lineNum">     435 </span><span class="lineCov">         10 :     ioopm_hash_table_insert(ht,int_elem(i), str_elem(&quot;bucket_test&quot;));</span>
<span class="lineNum">     436 </span>            :   }
<span class="lineNum">     437 </span><span class="lineCov">          1 :   size_t size_test = 17;</span>
<span class="lineNum">     438 </span><span class="lineCov">          1 :   CU_ASSERT_EQUAL(ioopm_hash_table_capacity(ht), size_test);</span>
<span class="lineNum">     439 </span>            : 
<span class="lineNum">     440 </span>            :   
<span class="lineNum">     441 </span>            :   // Add 5 additional element to check that passing threshold 12.5 has increased buckets size to 31
<span class="lineNum">     442 </span><span class="lineCov">          6 :   for (int i = 10; i&lt;15; i++)</span>
<span class="lineNum">     443 </span>            :   {
<span class="lineNum">     444 </span><span class="lineCov">          5 :     ioopm_hash_table_insert(ht,int_elem(i), str_elem(&quot;bucket_test_threshold&quot;));</span>
<span class="lineNum">     445 </span>            :   }
<span class="lineNum">     446 </span><span class="lineCov">          1 :   size_test = 31;</span>
<span class="lineNum">     447 </span><span class="lineCov">          1 :   CU_ASSERT_EQUAL(ioopm_hash_table_capacity(ht), size_test);</span>
<span class="lineNum">     448 </span>            : 
<span class="lineNum">     449 </span><span class="lineCov">         16 :   for(int i = 0; i&lt;15; i++){</span>
<span class="lineNum">     450 </span><span class="lineCov">         15 :     bool success = false;</span>
<span class="lineNum">     451 </span><span class="lineCov">         15 :     ioopm_hash_table_lookup(ht,int_elem(i),&amp;success);</span>
<span class="lineNum">     452 </span><span class="lineCov">         15 :     CU_ASSERT(success);</span>
<span class="lineNum">     453 </span>            :   }
<span class="lineNum">     454 </span>            : 
<span class="lineNum">     455 </span>            :   // Add 100 additional element to check increased buckets size to 127
<span class="lineNum">     456 </span><span class="lineCov">        101 :   for (int i = 15; i&lt;115; i++)</span>
<span class="lineNum">     457 </span>            :   {
<span class="lineNum">     458 </span><span class="lineCov">        100 :     ioopm_hash_table_insert(ht,int_elem(i), str_elem(&quot;bucket_test_threshold&quot;));</span>
<span class="lineNum">     459 </span>            :   }
<span class="lineNum">     460 </span><span class="lineCov">          1 :   size_test = 127;</span>
<span class="lineNum">     461 </span>            : 
<span class="lineNum">     462 </span><span class="lineCov">        116 :   for(int i = 0; i&lt;115; i++){</span>
<span class="lineNum">     463 </span><span class="lineCov">        115 :     bool success = false;</span>
<span class="lineNum">     464 </span><span class="lineCov">        115 :     ioopm_hash_table_lookup(ht,int_elem(i),&amp;success);</span>
<span class="lineNum">     465 </span><span class="lineCov">        115 :     CU_ASSERT(success);</span>
<span class="lineNum">     466 </span>            :   }
<span class="lineNum">     467 </span>            : 
<span class="lineNum">     468 </span><span class="lineCov">          1 :   ioopm_hash_table_destroy(ht);</span>
<a name="469"><span class="lineNum">     469 </span><span class="lineCov">          1 : }</span></a>
<span class="lineNum">     470 </span>            : 
<span class="lineNum">     471 </span><span class="lineCov">          1 : int main()</span>
<span class="lineNum">     472 </span>            : {
<span class="lineNum">     473 </span><span class="lineCov">          1 :   CU_pSuite test_suite1 = NULL;</span>
<span class="lineNum">     474 </span>            : 
<span class="lineNum">     475 </span><span class="lineCov">          1 :   if (CUE_SUCCESS != CU_initialize_registry())</span>
<span class="lineNum">     476 </span><span class="lineNoCov">          0 :     return CU_get_error();</span>
<span class="lineNum">     477 </span>            : 
<span class="lineNum">     478 </span><span class="lineCov">          1 :   test_suite1 = CU_add_suite(&quot;Test Suite 1&quot;, init_suite, clean_suite);</span>
<span class="lineNum">     479 </span><span class="lineCov">          1 :   if (NULL == test_suite1)</span>
<span class="lineNum">     480 </span>            :     {
<span class="lineNum">     481 </span><span class="lineNoCov">          0 :       CU_cleanup_registry();</span>
<span class="lineNum">     482 </span><span class="lineNoCov">          0 :       return CU_get_error();</span>
<span class="lineNum">     483 </span>            :     }
<span class="lineNum">     484 </span>            : 
<span class="lineNum">     485 </span><span class="lineCov">          1 :   if (</span>
<span class="lineNum">     486 </span><span class="lineCov">          2 :     (NULL == CU_add_test(test_suite1, &quot;test 1: test char for keys&quot;,test_char_for_keys)) ||</span>
<span class="lineNum">     487 </span><span class="lineCov">          2 :     (NULL == CU_add_test(test_suite1, &quot;test 2: table create and destroy&quot;, test_create_and_destroy)) ||</span>
<span class="lineNum">     488 </span><span class="lineCov">          2 :     (NULL == CU_add_test(test_suite1, &quot;test 3: insert&quot;, test_insert)) || </span>
<span class="lineNum">     489 </span><span class="lineCov">          2 :     (NULL == CU_add_test(test_suite1, &quot;test 4: remove&quot;, test_remove)) ||</span>
<span class="lineNum">     490 </span><span class="lineCov">          2 :     (NULL == CU_add_test(test_suite1, &quot;test 5: hash size&quot;, test_hashtable_size)) ||</span>
<span class="lineNum">     491 </span><span class="lineCov">          2 :     (NULL == CU_add_test(test_suite1, &quot;test 6: is empty&quot;, test_is_empty)) ||</span>
<span class="lineNum">     492 </span><span class="lineCov">          2 :     (NULL == CU_add_test(test_suite1, &quot;test 7: clear&quot;, test_clear)) ||</span>
<span class="lineNum">     493 </span><span class="lineCov">          2 :     (NULL == CU_add_test(test_suite1, &quot;test 8: linked list keys&quot;, test_table_keys)) ||</span>
<span class="lineNum">     494 </span><span class="lineCov">          2 :     (NULL == CU_add_test(test_suite1, &quot;test 9: linked list values&quot;, test_table_values)) || </span>
<span class="lineNum">     495 </span><span class="lineCov">          2 :     (NULL == CU_add_test(test_suite1, &quot;test 10: has key&quot;,test_has_key)) ||</span>
<span class="lineNum">     496 </span><span class="lineCov">          2 :     (NULL == CU_add_test(test_suite1, &quot;test 11: has value&quot;, test_has_value)) ||</span>
<span class="lineNum">     497 </span><span class="lineCov">          2 :     (NULL == CU_add_test(test_suite1, &quot;test 12: all&quot;,test_hash_table_all)) ||</span>
<span class="lineNum">     498 </span><span class="lineCov">          2 :     (NULL == CU_add_test(test_suite1, &quot;test 13: apply all&quot;,test_apply_to_all))||</span>
<span class="lineNum">     499 </span><span class="lineCov">          2 :     (NULL == CU_add_test(test_suite1, &quot;test 14: insert&quot;, test_insert_lookup_int)) ||</span>
<span class="lineNum">     500 </span><span class="lineCov">          2 :     (NULL == CU_add_test(test_suite1, &quot;test 15: insert&quot;, test_insert_lookup_str)) ||  </span>
<span class="lineNum">     501 </span><span class="lineCov">          2 :     (NULL == CU_add_test(test_suite1, &quot;test 16: lookup&quot;, test_lookup)) ||</span>
<span class="lineNum">     502 </span><span class="lineCov">          1 :     (NULL == CU_add_test(test_suite1, &quot;test 17: growing bucket&quot;, test_growing_buckets)) </span>
<span class="lineNum">     503 </span>            : 
<span class="lineNum">     504 </span>            :     )
<span class="lineNum">     505 </span>            :     {
<span class="lineNum">     506 </span><span class="lineNoCov">          0 :       CU_cleanup_registry();</span>
<span class="lineNum">     507 </span><span class="lineNoCov">          0 :       return CU_get_error();</span>
<span class="lineNum">     508 </span>            :     }
<span class="lineNum">     509 </span>            : 
<span class="lineNum">     510 </span><span class="lineCov">          1 :   CU_basic_set_mode(CU_BRM_VERBOSE);</span>
<span class="lineNum">     511 </span><span class="lineCov">          1 :   CU_basic_run_tests();</span>
<span class="lineNum">     512 </span><span class="lineCov">          1 :   CU_cleanup_registry();</span>
<span class="lineNum">     513 </span><span class="lineCov">          1 :   return CU_get_error();</span>
<span class="lineNum">     514 </span>            : }
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.13</a></td></tr>
  </table>
  <br>

</body>
</html>
